# [Gold V] 폴짝 게임 - 17498 

[문제 링크](https://www.acmicpc.net/problem/17498) 

### 성능 요약

메모리: 47976 KB, 시간: 504 ms

### 분류

다이나믹 프로그래밍

### 문제 설명

<p>태균이는 분필과 바닥만 있으면 언제든지 할 수 있는 재미있는 게임을 하나 만들었습니다.</p>

<p>바닥에 <em>N×M</em> 사각 격자를 그린 뒤 각 칸에 정수들을 쓰고 다음의 규칙을 따라 게임을 진행합니다.</p>

<ul>
	<li>1번 행에 있는 원하는 칸을 하나 정하여 해당 칸에서 시작합니다.</li>
	<li><em>N</em>번 행에 있는 임의의 칸에 도착하면 게임이 끝납니다.</li>
	<li>칸에서 칸으로 이동하려면 행의 번호가 증가하는 칸으로만 이동이 가능하며 칸 사이의 거리가 <em>D</em>이하여야 합니다. 즉, <em>R</em>행 <em>C</em>열에서 <em>P</em>행 <em>Q</em>열로 이동하려면 <em>P</em> > <em>R</em> 이며 | <em>P</em> - <em>R</em> | + | <em>Q</em> - <em>C</em> | ≤ <em>D</em> 를 만족해야 합니다.</li>
	<li>게임 시작 시 점수의 초기값은 0이며, 칸에서 칸으로 이동할 때 각 칸의 수를 곱하여 현재 점수에 더합니다.</li>
</ul>

<p>칸에 적힌 수들이 주어지면 게임에서 낼 수 있는 최대 점수를 구해주세요.</p>

### 입력 

 <p>첫 번째 줄에 행의 개수 <em>N</em>과 열의 개수 <em>M</em> (2 ≤ <em>N×M</em> ≤ 200,000, 2 ≤ <em>N</em>) 그리고 최대 점프 거리 정수 D (1 ≤ <em>D</em> ≤ 10) 가 주어집니다.</p>

<p><em>i+1</em> 번째 줄에는 <em>i</em> (1 ≤ <em>i</em> ≤ <em>N</em>) 번째 행에 있는 쓰여있는 정수 <em>a<sub>i,1</sub></em>, <em>a<sub>i,2</sub></em>, ..., <em>a<sub>i,m</sub></em> (-100 ≤ <em>a<sub>i,j</sub></em> ≤ 100) 이 순서대로 주어집니다.</p>

### 출력 

 <p>첫 번째 줄에 게임에서 낼 수 있는 최대 점수를 출력합니다.</p>

